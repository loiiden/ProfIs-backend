import{a as Ge,b as Ie,G as ye}from "../chunks/CiZ-rBY8.js";import"../chunks/DsnmJJEf.js";import{a0 as je,a1 as He,a8 as w,ai as B,a2 as g,a3 as l,a6 as a,ac as z,o as e,aa as T,a4 as q,a5 as Xe,e as Ke,aT as Ue,a7 as s,ab as c,a9 as Ze,aR as Je}from "../chunks/C-QRPYMU.js";import{i as ke}from "../chunks/D6BGfUMK.js";import{e as C,i as $}from "../chunks/DLRb4NzI.js";import{h as Qe}from "../chunks/DEZGI6pG.js";import{r as Ve,s as h}from "../chunks/BvaJcb-S.js";import{s as Re}from "../chunks/yPcTHBNh.js";import{s as Ye}from "../chunks/Dx7UFYhn.js";import{o as et}from "../chunks/DTvbOTB6.js";import{c as tt,a as st}from "../chunks/DrIvBmwU.js";import{a as at,c as be,s as Oe}from "../chunks/BJYZ7QGz.js";const rt=!1,lt=async({fetch:K,params:W})=>({referenten:await(await K(`${Ge}/api/evaluator`)).json()}),Et=Object.freeze(Object.defineProperty({__proto__:null,load:lt,ssr:rt},Symbol.toStringTag,{value:"Module"}));var nt=g('<div class="ref-status svelte-czq8z9"> </div>'),ct=g('<div class="ref-alevel svelte-czq8z9"> </div>'),it=g('<div class="filter-popup stroke-style svelte-czq8z9"><span class="filter-heading svelte-czq8z9">Status</span> <div class="filter-status svelte-czq8z9"></div> <span class="filter-heading svelte-czq8z9">Akademischer Grad</span> <div class="filter-alevel svelte-czq8z9"></div></div>'),vt=g('<div class="referent-row svelte-czq8z9"><span class="ref-name svelte-czq8z9"><a><img class="open-new svelte-czq8z9" alt=""/></a> </span> <span class="current-works svelte-czq8z9"> </span> <span class="ref-email svelte-czq8z9"><a> </a></span> <span class="ref-phone svelte-czq8z9"> </span></div>'),ot=g('<div class="work svelte-czq8z9"><div class="work-status svelte-czq8z9"><span class="color svelte-czq8z9"></span> <span class="work-event svelte-czq8z9"><p class="svelte-czq8z9"> </p> <p class="svelte-czq8z9"> </p></span></div> <span class="work-student svelte-czq8z9"> </span> <span class="work-program svelte-czq8z9"> </span> <span class="work-title svelte-czq8z9"> </span></div>'),pt=g('<div class="work svelte-czq8z9"><div class="work-status svelte-czq8z9"><span class="color svelte-czq8z9"></span> <span class="work-event svelte-czq8z9"><p class="svelte-czq8z9"> </p> <p class="svelte-czq8z9"> </p></span></div> <span class="work-student svelte-czq8z9"> </span> <span class="work-program svelte-czq8z9"> </span> <span class="work-title svelte-czq8z9"> </span></div>'),dt=g('<div class="current-referent svelte-czq8z9"><span class="cur-anrede svelte-czq8z9"> </span> <span class="cur-name svelte-czq8z9"> </span> <span class="cur-email svelte-czq8z9"> </span> <span class="cur-tel svelte-czq8z9"> </span> <span class="extern-status svelte-czq8z9"> </span></div> <div class="aktuelle-arbeiten svelte-czq8z9">Referent f체r</div> <div class="connected-works-list svelte-czq8z9"></div> <div class="aktuelle-arbeiten svelte-czq8z9">Korreferent f체r</div> <div class="connected-works-list svelte-czq8z9"></div>',1),ut=g('<div class="not-selected svelte-czq8z9">Noch keinen Referenten ausgew채hlt!</div>'),_t=g('<div class="referent-filter-table-container svelte-czq8z9"><div class="headline-s svelte-czq8z9">REFERENTEN</div> <div class="referent-table-container stroke-style svelte-czq8z9"><div class="search-bar svelte-czq8z9"><div class="search svelte-czq8z9"><img alt="" class="svelte-czq8z9"/> <input type="text" class="search-input svelte-czq8z9" placeholder="Referent suchen"/></div> <div class="filter-container svelte-czq8z9"><span class="reset-filter stroke-style svelte-czq8z9">Zur체cksetzen</span> <span class="show-filter stroke-style svelte-czq8z9"> <img alt="" class="svelte-czq8z9"/></span> <!></div></div> <div class="table-head svelte-czq8z9"><span class="head-name svelte-czq8z9">Referent</span> <span class="head-works svelte-czq8z9">Arbeiten</span> <span class="head-email svelte-czq8z9">E-Mail</span> <span class="head-phone svelte-czq8z9">Telefonnummer</span></div> <div class="referent-table svelte-czq8z9"></div></div> <div class="connected-works stroke-style svelte-czq8z9"><!></div></div>');function Nt(K, W){He(W,!0);let U=W.data.referenten,x=w(B(W.data.referenten));const Ee=["PROFESSOR","EXTERNAL"],Ne=["NONE","BACHELOR","MASTER","DR","PROF","PROF_DOCTOR","DIPLOMA"],ue={PROFESSOR:"Intern (Hochschulpersonal)",EXTERNAL:"Extern (Gastdozent / Partner)"},Te={NONE:"kein Abschluss",BACHELOR:"Bachelor",MASTER:"Master",DR:"Doktor",PROF:"Professor",PROF_DOCTOR:"Professor und Doktor",DIPLOMA:"Diplom oder Magister"};let Z=w(""),f=B([]),m=B([]),G=w(!1),we=Ze(()=>f.length>0||m.length>0);function I(){z(x,U.filter(t=>(t.firstName+" "+t.lastName+" "+t.email).includes(e(Z))),!0),f.length>0&&z(x,e(x).filter(t=>f.includes(t.role)),!0),m.length>0&&z(x,e(x).filter(t=>m.includes(t.academicLevel)),!0)}function J(){let t=document.querySelector(".filter-status");if(t!=null)for(let r of t.children){let i=r.getAttribute("data-status");f.includes(i)?(r.style.fontWeight="700",r.style.color="#000000"):(r.style.fontWeight="400",r.style.color="#3c3c3c")}}function Q(){let t=document.querySelector(".filter-alevel");if(t!=null)for(let r of t.children){let i=r.getAttribute("data-alevel");m.includes(i)?(r.style.fontWeight="700",r.style.color="#000000"):(r.style.fontWeight="400",r.style.color="#3c3c3c")}}function Ae(t){f.includes(t)?f.splice(f.indexOf(t),1):f.push(t),J(),I()}function Se(t){m.includes(t)?m.splice(m.indexOf(t),1):m.push(t),Q(),I()}let u=w(0),V=w(B([])),Y=w(B([])),ee={},_e={};async function Pe(t){return ye(`/api/scientific-work/filter/mainEvaluator/${t}`)}async function De(t){return ye(`/api/scientific-work/filter/secondEvaluator/${t}`)}async function Le(t){if(z(u,U.filter(r=>r.id==t)[0],!0),t in ee)z(V,ee[t],!0),z(Y,_e[t],!0);else{let r=await Pe(t),i=await De(t);ee[t]=r,_e[t]=i,z(V,r,!0),z(Y,i,!0)}}var te=_t();Qe("czq8z9", t=>{Ke(()=>{Ue.title="Referenten - ProfIS"})});var se=l(a(te),2),ae=a(se),re=a(ae),ze=a(re),le=l(ze,2);Ve(le),le.__input=I,s(re);var fe=l(re,2),me=a(fe);me.__click=()=>{f.splice(0),m.splice(0),J(),Q(),I()};var j=l(me,2);j.__click=()=>{z(G,!e(G)),setTimeout(()=>{J(),Q()},10)};var qe=a(j,!0),Fe=l(qe);s(j);var Me=l(j,2);{var Be= t=>{var r=it(),i=l(a(r),2);C(i,21,()=>Ee,$,(_, o)=>{var v=nt();v.__click=()=>{Ae(e(o))};var d=a(v,!0);s(v),T(()=>{h(v,"data-status",e(o)),c(d,ue[e(o)])}),q(_,v)}),s(i);var p=l(i,4);C(p,21,()=>Ne,$,(_, o)=>{var v=ct();v.__click=()=>{Se(e(o))};var d=a(v,!0);s(v),T(()=>{h(v,"data-alevel",e(o)),c(d,Te[e(o)])}),q(_,v)}),s(p),s(r),q(t,r)};ke(Me, t=>{e(G)&&t(Be)})}s(fe),s(ae);var he=l(ae,4);C(he,21,()=>e(x),$,(t, r)=>{var i=vt(),p=a(i);p.__click=()=>{Le(e(r).id)};var _=a(p),o=a(_);s(_);var v=l(_,1,!0);s(p);var d=l(p,2),ne=a(d,!0);s(d);var y=l(d,2),A=a(y),H=a(A,!0);s(A),s(y);var X=l(y,2),S=a(X,!0);s(X),s(i),T(()=>{h(_,"href",`/erstellen/referent/?id=${e(r).id??""}`),h(o,"src",et),c(v,at[e(r).academicLevel]+e(r).firstName+" "+e(r).lastName),c(ne,e(r).numberOfOpenWorks),h(A,"href",`mailto:${e(r).email??""}`),c(H,e(r).email),c(S,e(r).phoneNumber)}),q(t,i)}),s(he),s(se);var ge=l(se,2),Ce=a(ge);{var $e= t=>{var r=dt(),i=Je(r),p=a(i),_=a(p,!0);s(p);var o=l(p,2),v=a(o,!0);s(o);var d=l(o,2),ne=a(d);s(d);var y=l(d,2),A=a(y);s(y);var H=l(y,2),X=a(H);s(H),s(i);var S=l(i,4);C(S,21,()=>e(V),$,(P, n)=>{var k=ot(),R=a(k),D=a(R);let L;var F=l(D,2),b=a(F),ce=a(b,!0);s(b);var M=l(b,2),ie=a(M,!0);s(M),s(F),s(R);var O=l(R,2),ve=a(O,!0);s(O);var E=l(O,2),oe=a(E,!0);s(E);var N=l(E,2),pe=a(N,!0);s(N),s(k),T(de=>{L=Re(D,"",L,{"background-color":e(n).status?be[e(n).status.eventType]:"#3B4B55"}),c(ce,e(n).status?Oe[e(n).status.eventType]:"-"),c(ie,de),c(ve,e(n).studentFirstName+" "+e(n).studentLastName),c(oe,e(n).studyProgramTitle),h(N,"title",e(n).title),c(pe,e(n).title)},[()=>e(n).status?.eventDate?String(e(n).status.eventDate.toReversed()).replaceAll(",","."):"-"]),q(P,k)}),s(S);var xe=l(S,4);C(xe,21,()=>e(Y),$,(P, n)=>{var k=pt(),R=a(k),D=a(R);let L;var F=l(D,2),b=a(F),ce=a(b,!0);s(b);var M=l(b,2),ie=a(M,!0);s(M),s(F),s(R);var O=l(R,2),ve=a(O,!0);s(O);var E=l(O,2),oe=a(E,!0);s(E);var N=l(E,2),pe=a(N,!0);s(N),s(k),T(de=>{L=Re(D,"",L,{"background-color":e(n).status?be[e(n).status.eventType]:"#3B4B55"}),c(ce,e(n).status?Oe[e(n).status.eventType]:"-"),c(ie,de),c(ve,e(n).studentFirstName+" "+e(n).studentLastName),c(oe,e(n).studyProgramTitle),h(N,"title",e(n).title),c(pe,e(n).title)},[()=>e(n).status?.eventDate?String(e(n).status.eventDate.toReversed()).replaceAll(",","."):"-"]),q(P,k)}),s(xe),T(P=>{c(_,P),c(v,e(u).firstName+" "+e(u).lastName),c(ne,`E-Mail: ${e(u).email??""}`),c(A,`Telefon: ${e(u).phoneNumber??""}`),c(X,`[ ${ue[e(u).role]??""} ]`)},[()=>e(u).salutation!==null?String(e(u).salutation).toLowerCase().charAt(0).toUpperCase()+String(e(u).salutation).toLowerCase().slice(1):"-"]),q(t,r)},We= t=>{var r=ut();q(t,r)};ke(Ce, t=>{e(u)!=0?t($e):t(We,!1)})}s(ge),s(te),T(()=>{h(ze,"src",Ye),c(qe,e(we)?"Filter: Ein":"Filter: Aus"),h(Fe,"src",e(G)?tt:st)}),Ie(le,()=>e(Z), t=>z(Z,t)),q(K,te),Xe()}je(["input","click"]);export{Nt as component,Et as universal};
