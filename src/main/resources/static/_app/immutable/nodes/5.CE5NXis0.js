import"../chunks/DsnmJJEf.js";import{a0 as we,a1 as ue,a2 as q,a6 as s,a3 as t,ac as n,o as e,aa as he,a4 as j,a5 as pe,a9 as r,a7 as l,ab as ve,a8 as Y,ai as Ee,aY as be,aT as ge}from"../chunks/C-QRPYMU.js";import{h as Re}from"../chunks/DEZGI6pG.js";import{a as Ne}from"../chunks/CtAzj6bH.js";import{i as ye}from"../chunks/D6BGfUMK.js";import{r as m}from"../chunks/BvaJcb-S.js";import{s as de}from"../chunks/B_MYmuK7.js";import{b as w,P as ke,c as xe,D as Te,G as Ae}from"../chunks/CiZ-rBY8.js";import{b as ce}from"../chunks/aiiB4YHO.js";var Le=q('<button class="delete stroke-style svelte-1tads1w">LÃ¶schen</button>'),Pe=q('<div class="referent-anlegen-container svelte-1tads1w"><div class="headline svelte-1tads1w"> </div> <div class="referent-name-container stroke-style svelte-1tads1w"><div class="headline-s svelte-1tads1w">Referent</div> <div class="select-title svelte-1tads1w">Titel</div> <div class="titel svelte-1tads1w"><select class="stroke-style svelte-1tads1w" name="" id=""><option>Herr</option><option>Frau</option><option>Divers</option></select> <select class="stroke-style svelte-1tads1w" name="" id=""><option>kein Abschluss</option><option>Bachelor</option><option>Diplom</option><option>Master</option><option>Doktor</option><option>Prof.</option><option>Prof. Dr.</option></select></div> <div class="annotated-text-input svelte-1tads1w"><div class="annotation svelte-1tads1w">Vorname</div> <input class="stroke-style svelte-1tads1w" type="text" placeholder="Vorname"/></div> <div class="annotated-text-input svelte-1tads1w"><div class="annotation svelte-1tads1w">Nachname</div> <input class="stroke-style svelte-1tads1w" type="text" placeholder="Nachname"/></div> <div class="referent-status svelte-1tads1w"><span class="description svelte-1tads1w">Status</span> <span>Internal</span> <span>External</span></div></div> <div class="referent-contact-information-container stroke-style svelte-1tads1w"><div class="headline-s svelte-1tads1w">Kontaktdaten</div> <div class="annotated-text-input svelte-1tads1w"><div class="annotation svelte-1tads1w">Telefon</div> <input class="stroke-style svelte-1tads1w" type="text" placeholder="Telefon"/></div> <div class="annotated-text-input svelte-1tads1w"><div class="annotation svelte-1tads1w">E-Mail</div> <input class="stroke-style svelte-1tads1w" type="text" placeholder="E-Mail"/></div> <div class="annotated-text-input svelte-1tads1w"><div class="annotation svelte-1tads1w">Addresse</div> <input class="stroke-style svelte-1tads1w" type="text" placeholder="Addresse"/></div></div> <div class="buttons svelte-1tads1w"><button class="cancel stroke-style svelte-1tads1w">Abbrechen</button> <!> <button class="submit svelte-1tads1w"> </button></div></div>');function Se(k,d){ue(d,!0);async function x(){let a={firstName:e(o),lastName:e(h),email:e(b),address:e(g),salutation:e(N),phoneNumber:e(E),academicLevel:e(R),role:e(_)?"EXTERNAL":"PROFESSOR"};(await ke("/api/evaluator",a)).status==201&&(console.log("Successfully Created Referent"),window.location="/referenten")}async function c(a){let f={firstName:e(o),lastName:e(h),email:e(b),address:e(g),salutation:e(N),phoneNumber:e(E),academicLevel:e(R),role:e(_)?"EXTERNAL":"PROFESSOR"};(await xe(`/api/evaluator/${a}`,f)).status==200&&(console.log("Successfully Patched Referent"),window.location="/referenten")}async function u(a){(await Te(`/api/evaluator/${a}`)).status==204&&(console.log("Successfully Deleted Referent"),window.location="/referenten")}let v=r(()=>d.create),p=r(()=>d.referent_id),i=r(()=>d.referent_data),o=r(()=>e(i).firstName),h=r(()=>e(i).lastName),E=r(()=>e(i).phoneNumber),b=r(()=>e(i).email),g=r(()=>e(i).address),R=r(()=>e(i).academicLevel),N=r(()=>e(i).salutation),_=r(()=>e(i).role==="EXTERNAL");var T=Pe(),A=s(T),_e=s(A,!0);l(A);var L=t(A,2),P=t(s(L),4),y=s(P),S=s(y);S.value=S.__value="HERR";var O=t(S);O.value=O.__value="FRAU";var J=t(O);J.value=J.__value="DIVERS",l(y);var D=t(y,2),F=s(D);F.value=F.__value="NONE";var I=t(F);I.value=I.__value="BACHELOR";var M=t(I);M.value=M.__value="DIPLOMA";var B=t(M);B.value=B.__value="MASTER";var C=t(B);C.value=C.__value="DR";var H=t(C);H.value=H.__value="PROF";var Q=t(H);Q.value=Q.__value="PROF_DOCTOR",l(D),l(P);var $=t(P,2),W=t(s($),2);m(W),l($);var G=t($,2),Z=t(s(G),2);m(Z),l(G);var ee=t(G,2),V=t(s(ee),2);V.__click=()=>n(_,!1);var te=t(V,2);te.__click=()=>n(_,!0),l(ee),l(L);var X=t(L,2),U=t(s(X),2),ae=t(s(U),2);m(ae),l(U);var z=t(U,2),se=t(s(z),2);m(se),l(z);var le=t(z,2),ne=t(s(le),2);m(ne),l(le),l(X);var re=t(X,2),ie=s(re);ie.__click=()=>{window.location="/referenten"};var oe=t(ie,2);{var fe=a=>{var f=Le();f.__click=()=>{u(e(p))},j(a,f)};ye(oe,a=>{e(v)||a(fe)})}var K=t(oe,2);K.__click=()=>{e(v)?x():c(e(p))};var me=s(K,!0);l(K),l(re),l(T),he(()=>{ve(_e,e(v)?"REFERENT ANLEGEN":"REFERENT BEARBEITEN"),de(V,1,`toggle toggle-internal ${e(_)?"":"toggle-active"}`,"svelte-1tads1w"),de(te,1,`toggle toggle-external ${e(_)?"toggle-active":""}`,"svelte-1tads1w"),ve(me,e(v)?"Erstellen":"Aktualisieren")}),ce(y,()=>e(N),a=>n(N,a)),ce(D,()=>e(R),a=>n(R,a)),w(W,()=>e(o),a=>n(o,a)),w(Z,()=>e(h),a=>n(h,a)),w(ae,()=>e(E),a=>n(E,a)),w(se,()=>e(b),a=>n(b,a)),w(ne,()=>e(g),a=>n(g,a)),j(k,T),pe()}we(["click"]);var Oe=q('<main class="erstellen-referent-container"><!></main>');function Xe(k,d){ue(d,!0);function x(o){return Ae(`/api/evaluator/${o}`)}let c=Y(!0),u=Y(0),v=Y(Ee({firstName:"",lastName:"",email:"",phoneNumber:"",academicLevel:null,role:null,salutation:null}));Ne(async()=>{const o=new URLSearchParams(window.location.search);o.has("id")?(n(u,o.get("id"),!0),n(c,!1),n(v,await x(e(u)),!0)):(n(u,0),n(c,!0),n(v,{firstName:"",lastName:"",email:"",phoneNumber:"",academicLevel:null,role:null,salutation:null},!0))});var p=Oe();Re("fizu9b",o=>{be(()=>{ge.title=`${e(c)?"Referent anlegen":"Referent bearbeiten"} - ProfIS`})});var i=s(p);Se(i,{get create(){return e(c)},get referent_id(){return e(u)},get referent_data(){return e(v)}}),l(p),j(k,p),pe()}export{Xe as component};
