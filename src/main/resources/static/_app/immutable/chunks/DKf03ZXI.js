import"./DsnmJJEf.js";import{o as de}from "./DLbg6C1x.js";import{i as ue,_ as ce,aS as me,a1 as pe,a2 as C,aa as I,a4 as N,a5 as fe,a3 as o,a6 as r,o as e,a9 as R,a7 as l,aR as z,ab as h}from "./C-QRPYMU.js";import{i as J}from "./D6BGfUMK.js";import{e as _e,i as he}from "./DLRb4NzI.js";import{s as Z}from "./BvaJcb-S.js";import{s as ge}from "./B_MYmuK7.js";import{s as B}from "./yPcTHBNh.js";import{s as ke,a as ee,p as Ee}from "./BJYZ7QGz.js";import{d as te}from "./CiZ-rBY8.js";import{p as T}from "./D6J3oy5C.js";const qe=[];function ye(a, d=!1, t=!1){return K(a,new Map,"",qe,null,t)}function K(a, d, t, x, w=null, E=!1){if(typeof a=="object"&&a!==null){var D=d.get(a);if(D!==void 0)return D;if(a instanceof Map)return new Map(a);if(a instanceof Set)return new Set(a);if(ue(a)){var p=Array(a.length);d.set(a,p),w!==null&&d.set(w,p);for(var b=0; b<a.length; b+=1){var W=a[b];b in a&&(p[b]=K(W,d,t,x,null,E))}return p}if(ce(a)===me){p={},d.set(a,p),w!==null&&d.set(w,p);for(var L in a)p[L]=K(a[L],d,t,x,null,E);return p}if(a instanceof Date)return structuredClone(a);if(typeof a.toJSON=="function"&&!E)return K(a.toJSON(),d,t,x,a)}if(a instanceof EventTarget)return a;try{return structuredClone(a)}catch{return a}}var be=C('<a class="svelte-4lh1a5"><img alt="LÃ¶schen" class="svelte-4lh1a5"/></a>'),Me=C('<div class="left svelte-4lh1a5"><p class="student svelte-4lh1a5"> <!></p> <p class="title svelte-4lh1a5"> </p></div> <div class="right svelte-4lh1a5"><p class="course svelte-4lh1a5"> </p></div>',1),xe=C('<div class="event svelte-4lh1a5"><div class="line svelte-4lh1a5"></div> <p class="ev-head svelte-4lh1a5"> </p> <p class="svelte-4lh1a5"> </p></div>'),we=C('<div class="progress-bar-back grey svelte-4lh1a5"></div> <div class="progress-bar green svelte-4lh1a5"></div> <div class="events-container svelte-4lh1a5"><div class="event svelte-4lh1a5"><div class="line svelte-4lh1a5"></div> <p class="ev-head svelte-4lh1a5">Startdatum:</p> <p class="svelte-4lh1a5"> </p></div> <!> <div class="event svelte-4lh1a5"><div class="line svelte-4lh1a5"></div> <p class="ev-head svelte-4lh1a5">Kolloquium:</p> <p class="svelte-4lh1a5"> </p></div></div>',1),De=C('<div class="mark svelte-4lh1a5"><div class="referent svelte-4lh1a5"><p class="ref-head svelte-4lh1a5">Referent:</p> <p class="svelte-4lh1a5"> </p></div> <div class="note green svelte-4lh1a5"> </div></div> <div class="mark svelte-4lh1a5"><div class="referent svelte-4lh1a5"><p class="ref-head svelte-4lh1a5">Korreferent:</p> <p class="svelte-4lh1a5"> </p></div> <div class="note blue svelte-4lh1a5"> </div></div> <div class="mark svelte-4lh1a5"><div class="referent svelte-4lh1a5"><p class="ref-head total-mark svelte-4lh1a5">Gesamtnote:</p></div> <div class="note green svelte-4lh1a5"> </div></div>',1),Se=C('<div><div class="effect-el-1 svelte-4lh1a5"></div> <div class="effect-el-2 svelte-4lh1a5"></div> <div class="overview-arbeit stroke-style svelte-4lh1a5"><div class="header svelte-4lh1a5"><!></div> <div class="timeline svelte-4lh1a5"><!></div> <div class="grades svelte-4lh1a5"><!></div></div></div>');function $e(a, d){pe(d,!0);let t=R(()=>d.swork),x=R(()=>d.studmap),w=R(()=>d.progmap),E=R(()=>d.refmap);function D(s){let i=0;s>=95&&(i=1),s<50&&(i=5),i=1;let n=95;for(; s<n;)n-=1.5,i+=.1;let v=Math.pow(10,1);return(Math.round(i*v)/v).toFixed(1)}function p(){let s=document.querySelector(".events-container");if(s===null)return;let i=100,n=0;for(const v of s.children)v.style.left=`${n*i}px`,n++;b(i)}function b(s){let i=document.querySelector(".progress-bar"),n=document.querySelector(".progress-bar-back");if(i===null)return;let v=ye(e(t)),u=v.events;if(v.colloquium!==null)if(typeof v.colloquium=="string"){let k=v.colloquium.split("T")[0].split("-").map(c=>parseInt(c,10));u.push({eventDate:k})}else u.push({eventDate:v.colloquium.splice(0,3)});const M=new Date;let f=u.length+2,q=0;for(const g of u){const c=new Date(String(g.eventDate).replaceAll(",","-"))-M;Math.ceil(c/(1e3*3600*24))<=0&&q++}n.style.width=`${(f-2)*s+3}px`,f=Math.min(q,f),i.style.width=`${f*s+3}px`}de(()=>{let s=document.querySelector(".timeline");p();let i=new MutationObserver(v=>{p()}),n={childList:!0,subtree:!0};i.observe(s,n)});function W(s){return s.split("-").toReversed().toString().replaceAll(",",".")}function L(s){let i=s.split("T");return[W(i[0]),i[1]]}var A=Se(),H=r(A);let Q;var U=o(H,2);let V;var $=o(U,2);let X;var F=r($),ae=r(F);{var re= s=>{var i=Me(),n=z(i),v=r(n),u=r(v),M=o(u);{var f= _=>{var y=be(),S=r(y);l(y),I(()=>{Z(y,"href",`/erstellen/arbeit?id=${e(t).id}`),Z(S,"src",Ee)}),N(_,y)};J(M, _=>{T.url.pathname=="/"&&_(f)})}l(v);var q=o(v,2),g=r(q,!0);l(q),l(n);var k=o(n,2),c=r(k),m=r(c,!0);l(c),l(k),I(()=>{h(u,`${e(t).studentId?e(x)[e(t).studentId].firstName+" "+e(x)[e(t).studentId].lastName:"-"} `),h(g,e(t)?e(t).title:"-"),h(m,e(t)?e(w)[e(t).studyProgramId]:"-")}),N(s,i)};J(ae, s=>{e(t)&&s(re)})}l(F);var G=o(F,2),le=r(G);{var se= s=>{var i=we(),n=o(z(i),4),v=r(n),u=o(r(v),4),M=r(u,!0);l(u),l(v);var f=o(v,2);_e(f,17,()=>e(t).events,he,(c, m)=>{var _=xe(),y=o(r(_),2),S=r(y,!0);l(y);var O=o(y,2),P=r(O,!0);l(O),l(_),I(j=>{h(S,e(m).eventType?ke[e(m).eventType]+":":"-"),h(P,j)},[()=>e(m).eventDate?typeof e(m).eventDate=="string"?W(e(m).eventDate):te(e(m).eventDate):"-"]),N(c,_)});var q=o(f,2),g=o(r(q),4),k=r(g);l(g),l(q),l(n),I((c, m, _)=>{h(M,c),h(k,`${m??""}, ${(e(t).colloquiumLocation?e(t).colloquiumLocation:"-")??""}, ${_??""}`)},[()=>e(t).startDate?typeof e(t).startDate=="string"?W(e(t).startDate):te(e(t).startDate):"-",()=>e(t).colloquium?typeof e(t).colloquium=="string"?L(e(t).colloquium)[0]:String(e(t).colloquium.toReversed().splice(2)).replaceAll(",","."):"-",()=>e(t).colloquium?typeof e(t).colloquium=="string"?L(e(t).colloquium)[1]:String(e(t).colloquium.slice().splice(3)).replaceAll(",",":"):"-"]),N(s,i)};J(le, s=>{e(t)&&s(se)})}l(G);var Y=o(G,2),ie=r(Y);{var ve= s=>{var i=De(),n=z(i),v=r(n),u=o(r(v),2),M=r(u,!0);l(u),l(v);var f=o(v,2),q=r(f,!0);l(f),l(n);var g=o(n,2),k=r(g),c=o(r(k),2),m=r(c,!0);l(c),l(k);var _=o(k,2),y=r(_,!0);l(_),l(g);var S=o(g,2),O=o(r(S),2),P=r(O,!0);l(O),l(S),I((j, oe, ne)=>{h(M,e(t).mainEvaluatorId?ee[e(E)[e(t).mainEvaluatorId].academicLevel]+e(E)[e(t).mainEvaluatorId].firstName+" "+e(E)[e(t).mainEvaluatorId].lastName:e(t).mainEvaluator?e(t).mainEvaluator.firstName+" "+e(t).mainEvaluator.lastName:"-"),h(q,j),h(m,e(t).secondEvaluatorId?ee[e(E)[e(t).secondEvaluatorId].academicLevel]+e(E)[e(t).secondEvaluatorId].firstName+" "+e(E)[e(t).secondEvaluatorId].lastName:e(t).secondEvaluator?e(t).secondEvaluator.firstName+" "+e(t).secondEvaluator.lastName:"-"),h(y,oe),h(P,ne)},[()=>e(t).mainEvaluatorWorkMark!==null&&e(t).mainEvaluatorColloquiumMark!==null?D((e(t).mainEvaluatorWorkMark+e(t).mainEvaluatorColloquiumMark)/2):"-",()=>e(t).secondEvaluatorWorkMark!==null&&e(t).secondEvaluatorColloquiumMark!==null?D((e(t).secondEvaluatorWorkMark+e(t).secondEvaluatorColloquiumMark)/2):"-",()=>e(t).mainEvaluatorWorkMark!==null&&e(t).mainEvaluatorColloquiumMark!==null&&e(t).secondEvaluatorWorkMark!==null&&e(t).secondEvaluatorColloquiumMark!==null?D((e(t).mainEvaluatorWorkMark+e(t).mainEvaluatorColloquiumMark+e(t).secondEvaluatorWorkMark+e(t).secondEvaluatorColloquiumMark)/4):"-"]),N(s,i)};J(ie, s=>{e(t)&&s(ve)})}l(Y),l($),l(A),I(()=>{ge(A,1,`overview-arbeit-container ${T.url.pathname=="/"?"grid-layout-home":"grid-layout-preview"}`,"svelte-4lh1a5"),Q=B(H,"",Q,{display:T.url.pathname=="/"?"":"none"}),V=B(U,"",V,{display:T.url.pathname=="/"?"":"none"}),X=B($,"",X,{width:T.url.pathname=="/"?"94%":"100%"})}),N(a,A),fe()}export{$e as O,ye as s};
